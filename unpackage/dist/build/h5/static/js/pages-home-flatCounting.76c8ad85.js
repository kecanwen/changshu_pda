(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-flatCounting"],{5268:function(t,r,a){"use strict";a.r(r);var e=a("7dae"),i=a.n(e);for(var s in e)"default"!==s&&function(t){a.d(r,t,(function(){return e[t]}))}(s);r["default"]=i.a},5660:function(t,r,a){var e=a("acc0");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=a("4f06").default;i("66e98b0e",e,!0,{sourceMap:!1,shadowMode:!1})},"7dae":function(t,r,a){"use strict";var e=a("4ea4");a("99af"),a("a434"),a("ac1f"),a("1276"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=e(a("20b5")),s=a("4247"),n={data:function(){return{palletNo:"",fromLocCode:"",number:"0/0",material:"",planQuantity:"",toPallet:"",wmsTasks:[],i:0,loading:!1,quantity:"",isCorrectNow:!0,packageUnit:"",str1:"",str2:"",str3:"",str4:"",str5:"",str6:"",str7:"",str8:"",str9:"",str10:"",batchNo:"",m_Str1:"",m_Str2:"",m_Str3:"",m_Str4:"",m_Str5:"",m_Str6:"",m_Str7:"",m_Str8:"",m_Str9:"",m_Str10:"",parmater:"",toFromLoc:"",loction:""}},computed:{i18n:function(){return this.$t("flatCounting")}},mounted:function(){uni.setNavigationBarTitle({title:this.$t("flatCounting").title})},onLoad:function(){var t=window.location.href.split("?");if(t.length>1){var r=t[1].split("&"),a=r[0].split("=");r.length>1&&(this.type=r[1].split("=")[1]),this.parmater=a[1]}},methods:{onChange:function(){var t={condition:{Status:{in:["DISPATCHED","WORKING"]},Type:{in:["MV_PICKTICKET_PICKING","MV_WAVE_PICKING"]}},pageNumber:1,pageSize:500,queryType:2,sort:{MaterialId:!1}};""!=this.parmater&&(t.condition["relatedBill"]={"=":this.parmater});var r=this;i.default.post(this.apiUrl.apiUrl+"/api/app/queryManager/WmsTask",t).then((function(t){if(r.wmsTasks=t.data.data,r.wmsTasks.length>0){var a=r.wmsTasks[r.i];r.material="".concat(a.material.xCode,"\n\t\t\t\t\t\t\t").concat(a.material.xName,"\n\t\t\t\t\t\t\t").concat(null==a.material.spec?"":a.material.spec),r.planQuantity=a.planPkgQuantity,r.quantity=a.planPkgQuantity,r.number=r.i+1+"/"+r.wmsTasks.length,r.packageUnit=a.packageUnit.pkgLevel,r.str1=a.material.str1,r.str2=a.material.str2,r.str3=a.material.str3,r.str4=a.material.str4,r.str5=a.material.str5,r.str6=a.material.str6,r.str7=a.material.str7,r.str8=a.material.str8,r.str9=a.material.str9,r.str10=a.material.str10,r.batchNo=a.materialProperty.batchNo,r.m_Str1=a.materialProperty.m_Str1,r.m_Str2=a.materialProperty.m_Str2,r.m_Str3=a.materialProperty.m_Str3,r.m_Str4=a.materialProperty.m_Str4,r.m_Str5=a.materialProperty.m_Str5,r.m_Str6=a.materialProperty.m_Str6,r.m_Str7=a.materialProperty.m_Str7,r.m_Str8=a.materialProperty.m_Str8,r.m_Str9=a.materialProperty.m_Str9,r.m_Str10=a.materialProperty.m_Str10,r.toFromLoc=a.fromLocCode}})).catch((function(t){(0,s.Toast)({message:r.$t("flatCounting").taskErrorMsg})}))},onClickLeft:function(){if(this.i>0){this.i=this.i-1;var t=this.wmsTasks[this.i];this.material="".concat(t.material.xCode,"\n\t\t\t\t").concat(t.material.xName,"\n\t\t\t\t").concat(null==t.material.spec?"":t.material.spec),this.planQuantity=t.planPkgQuantity,this.quantity=t.planPkgQuantity,this.number=this.i+1+"/"+this.wmsTasks.length,this.packageUnit=t.packageUnit.pkgLevel,this.str1=t.material.str1,this.str2=t.material.str2,this.str3=t.material.str3,this.str4=t.material.str4,this.str5=t.material.str5,this.str6=t.material.str6,this.str7=t.material.str7,this.str8=t.material.str8,this.str9=t.material.str9,this.str10=t.material.str10,this.batchNo=t.materialProperty.batchNo,this.m_Str1=t.materialProperty.m_Str1,this.m_Str2=t.materialProperty.m_Str2,this.m_Str3=t.materialProperty.m_Str3,this.m_Str4=t.materialProperty.m_Str4,this.m_Str5=t.materialProperty.m_Str5,this.m_Str6=t.materialProperty.m_Str6,this.m_Str7=t.materialProperty.m_Str7,this.m_Str8=t.materialProperty.m_Str8,this.m_Str9=t.materialProperty.m_Str9,this.m_Str10=t.materialProperty.m_Str10,this.toFromLoc=t.fromLocCode}},onClickRight:function(){if(this.i<this.wmsTasks.length-1){this.i=this.i+1;var t=this.wmsTasks[this.i];this.material="".concat(t.material.xCode," \n\t\t\t\t").concat(t.material.xName," \n\t\t\t\t").concat(null==t.material.spec?"":t.material.spec),this.planQuantity=t.planPkgQuantity,this.quantity=t.planPkgQuantity,this.number=this.i+1+"/"+this.wmsTasks.length,this.packageUnit=t.packageUnit.pkgLevel,this.str1=t.material.str1,this.str2=t.material.str2,this.str3=t.material.str3,this.str4=t.material.str4,this.str5=t.material.str5,this.str6=t.material.str6,this.str7=t.material.str7,this.str8=t.material.str8,this.str9=t.material.str9,this.str10=t.material.str10,this.batchNo=t.materialProperty.batchNo,this.m_Str1=t.materialProperty.m_Str1,this.m_Str2=t.materialProperty.m_Str2,this.m_Str3=t.materialProperty.m_Str3,this.m_Str4=t.materialProperty.m_Str4,this.m_Str5=t.materialProperty.m_Str5,this.m_Str6=t.materialProperty.m_Str6,this.m_Str7=t.materialProperty.m_Str7,this.m_Str8=t.materialProperty.m_Str8,this.m_Str9=t.materialProperty.m_Str9,this.m_Str10=t.materialProperty.m_Str10,this.toFromLoc=t.fromLocCode}},onSubmit:function(){if(this.loading=!0,""!=this.loction&&this.loction!=this.toFromLoc)return t.loading=!1,void(0,s.Toast)({message:t.$t("flatPicking").countLocationErrorMsg});var t=this,r=1==this.isCorrectNow?"Y":"N";i.default.post(this.apiUrl.apiUrl+"/api/app/WorkDocManager/HandleCountOutTask",{TaskId:this.wmsTasks[this.i].id,CountPkgQuntity:this.planQuantity,BackPallet:this.backPallet,IsCorrectNow:r}).then((function(r){if(t.loading=!1,1==r.data){(0,s.Toast)({message:t.$t("flatCounting").countSuccessMsg}),t.wmsTasks.splice(t.i,1),t.i=0;var a=t.wmsTasks[t.i];t.wmsTasks.length>0?(t.material="".concat(a.material.xCode,"\n\t\t\t\t\t\t\t").concat(a.material.xName,"\n\t\t\t\t\t\t\t").concat(null==a.material.spec?"":a.material.spec),t.planQuantity=a.planPkgQuantity,t.quantity=a.planPkgQuantity,t.number=t.i+1+"/"+t.wmsTasks.length,t.packageUnit=a.packageUnit.pkgLevel,t.str1=a.material.str1,t.str2=a.material.str2,t.str3=a.material.str3,t.str4=a.material.str4,t.str5=a.material.str5,t.str6=a.material.str6,t.str7=a.material.str7,t.str8=a.material.str8,t.str9=a.material.str9,t.str10=a.material.str10,t.batchNo=a.materialProperty.batchNo,t.m_Str1=a.materialProperty.m_Str1,t.m_Str2=a.materialProperty.m_Str2,t.m_Str3=a.materialProperty.m_Str3,t.m_Str4=a.materialProperty.m_Str4,t.m_Str5=a.materialProperty.m_Str5,t.m_Str6=a.materialProperty.m_Str6,t.m_Str7=a.materialProperty.m_Str7,t.m_Str8=a.materialProperty.m_Str8,t.m_Str9=a.materialProperty.m_Str9,t.m_Str10=a.materialProperty.m_Str10,t.toFromLoc=a.fromLocCode):(t.material="",t.planQuantity="",t.number="0/0",t.quantity="")}})).catch((function(r){t.loading=!1,(0,s.Toast)({message:t.$t("flatCounting").countErrorMsg})}))},debounce:function(t,r){null!==this.fun&&clearTimeout(this.fun),this.fun=setTimeout(t,r)}}};r.default=n},"7f11":function(t,r,a){"use strict";var e=a("5660"),i=a.n(e);i.a},"99ef":function(t,r,a){"use strict";var e;a.d(r,"b",(function(){return i})),a.d(r,"c",(function(){return s})),a.d(r,"a",(function(){return e}));var i=function(){var t=this,r=t.$createElement,a=t._self._c||r;return a("van-form",{staticStyle:{margin:"3rem"},on:{submit:function(r){arguments[0]=r=t.$handleEvent(r),t.onSubmit.apply(void 0,arguments)}}},[a("van-cell-group",[a("van-field",{attrs:{color:"#0FAFAA",readonly:!0},model:{value:t.number,callback:function(r){t.number=r},expression:"number"}}),a("van-nav-bar",{attrs:{title:t.material,"left-text":t.i18n.previous[0],"right-text":t.i18n.next[0]},on:{"click-left":function(r){arguments[0]=r=t.$handleEvent(r),t.onClickLeft.apply(void 0,arguments)},"click-right":function(r){arguments[0]=r=t.$handleEvent(r),t.onClickRight.apply(void 0,arguments)}}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.packageUnit[1],expression:"i18n.packageUnit[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.packageUnit[0],readonly:!0},model:{value:t.packageUnit,callback:function(r){t.packageUnit=r},expression:"packageUnit"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.str1[1],expression:"i18n.str1[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.str1[0],readonly:!0},model:{value:t.str1,callback:function(r){t.str1=r},expression:"str1"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.str2[1],expression:"i18n.str2[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.str2[0],readonly:!0},model:{value:t.str2,callback:function(r){t.str2=r},expression:"str2"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.str3[1],expression:"i18n.str3[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.str3[0],readonly:!0},model:{value:t.str3,callback:function(r){t.str3=r},expression:"str3"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.str4[1],expression:"i18n.str4[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.str4[0],readonly:!0},model:{value:t.str4,callback:function(r){t.str4=r},expression:"str4"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.str5[1],expression:"i18n.str5[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.str5[0],readonly:!0},model:{value:t.str5,callback:function(r){t.str5=r},expression:"str5"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.str6[1],expression:"i18n.str6[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.str6[0],readonly:!0},model:{value:t.str6,callback:function(r){t.str6=r},expression:"str6"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.str7[1],expression:"i18n.str7[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.str7[0],readonly:!0},model:{value:t.str7,callback:function(r){t.str7=r},expression:"str7"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.str8[1],expression:"i18n.str8[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.str8[0],readonly:!0},model:{value:t.str8,callback:function(r){t.str8=r},expression:"str8"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.str9[1],expression:"i18n.str9[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.str9[0],readonly:!0},model:{value:t.str9,callback:function(r){t.str9=r},expression:"str9"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.str10[1],expression:"i18n.str10[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.str10[0],readonly:!0},model:{value:t.str10,callback:function(r){t.str10=r},expression:"str10"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.batchNo[1],expression:"i18n.batchNo[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.batchNo[0],readonly:!0},model:{value:t.batchNo,callback:function(r){t.batchNo=r},expression:"batchNo"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.m_Str1[1],expression:"i18n.m_Str1[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.m_Str1[0],readonly:!0},model:{value:t.m_Str1,callback:function(r){t.m_Str1=r},expression:"m_Str1"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.m_Str2[1],expression:"i18n.m_Str2[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.m_Str2[0],readonly:!0},model:{value:t.m_Str2,callback:function(r){t.m_Str2=r},expression:"m_Str2"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.m_Str3[1],expression:"i18n.m_Str3[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.m_Str3[0],readonly:!0},model:{value:t.m_Str3,callback:function(r){t.m_Str3=r},expression:"m_Str3"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.m_Str4[1],expression:"i18n.m_Str4[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.m_Str4[0],readonly:!0},model:{value:t.m_Str4,callback:function(r){t.m_Str4=r},expression:"m_Str4"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.m_Str5[1],expression:"i18n.m_Str5[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.m_Str5[0],readonly:!0},model:{value:t.m_Str5,callback:function(r){t.m_Str5=r},expression:"m_Str5"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.m_Str6[1],expression:"i18n.m_Str6[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.m_Str6[0],readonly:!0},model:{value:t.m_Str6,callback:function(r){t.m_Str6=r},expression:"m_Str6"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.m_Str7[1],expression:"i18n.m_Str7[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.m_Str7[0],readonly:!0},model:{value:t.m_Str7,callback:function(r){t.m_Str7=r},expression:"m_Str7"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.m_Str8[1],expression:"i18n.m_Str8[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.m_Str8[0],readonly:!0},model:{value:t.m_Str8,callback:function(r){t.m_Str8=r},expression:"m_Str8"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.m_Str9[1],expression:"i18n.m_Str9[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.m_Str9[0],readonly:!0},model:{value:t.m_Str9,callback:function(r){t.m_Str9=r},expression:"m_Str9"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.m_Str10[1],expression:"i18n.m_Str10[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.m_Str10[0],readonly:!0},model:{value:t.m_Str10,callback:function(r){t.m_Str10=r},expression:"m_Str10"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.toFromLoc[1],expression:"i18n.toFromLoc[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.toFromLoc[0],readonly:!0},model:{value:t.toFromLoc,callback:function(r){t.toFromLoc=r},expression:"toFromLoc"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.loction[1],expression:"i18n.loction[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.loction[0]},model:{value:t.loction,callback:function(r){t.loction=r},expression:"loction"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.pickingnumber[1],expression:"i18n.pickingnumber[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.pickingnumber[0],type:"number",rules:[{required:!0,message:t.i18n.planQuantityMsg}],required:!0},scopedSlots:t._u([{key:"button",fn:function(){return[a("p",[t._v(t._s(t.quantity))])]},proxy:!0}]),model:{value:t.planQuantity,callback:function(r){t.planQuantity=r},expression:"planQuantity"}})],1),a("van-cell-group",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.topallet[1],expression:"i18n.topallet[1]==1"}]},[a("van-field",{attrs:{label:t.i18n.topallet[0]},model:{value:t.toPallet,callback:function(r){t.toPallet=r},expression:"toPallet"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1==t.i18n.corrected[1],expression:"i18n.corrected[1]==1"}],staticClass:"remember"},[a("van-checkbox",{attrs:{shape:"square","label-disabled":!0},model:{value:t.isCorrectNow,callback:function(r){t.isCorrectNow=r},expression:"isCorrectNow"}},[t._v(t._s(t.i18n.corrected[0]))])],1),a("div",{staticStyle:{margin:"50px"}},[a("van-button",{attrs:{loading:t.loading,round:!0,block:!0,type:"info","native-type":"submit"}},[t._v(t._s(t.i18n.submit))])],1)],1)},s=[]},acc0:function(t,r,a){var e=a("24fb");r=e(!1),r.push([t.i,"[data-v-803d814c] .van-nav-bar{height:100px}[data-v-803d814c] .van-ellipsis{white-space:pre-wrap!important;text-overflow:clip!important;line-height:1!important}.remember[data-v-803d814c]{float:right;margin-right:1rem;font-size:12px}[data-v-803d814c] .van-nav-bar__title{font-size:10px!important}",""]),t.exports=r},c19c:function(t,r,a){"use strict";a.r(r);var e=a("99ef"),i=a("5268");for(var s in i)"default"!==s&&function(t){a.d(r,t,(function(){return i[t]}))}(s);a("7f11");var n,l=a("f0c5"),o=Object(l["a"])(i["default"],e["b"],e["c"],!1,null,"803d814c",null,!1,e["a"],n);r["default"]=o.exports}}]);